@model FES.AusleihSystem.Models.AccountModel


<h1>Momentan ausgeliehene Ger&auml;te</h1>
<div class="form-control" style="height: 500px; overflow-y: scroll; margin-top:25px; max-width:700px">
    <table border="0" style="height: auto">
        <thead>
            <tr>
                <th>Ger&auml;t</th>
                <th>Ausleihdauer</th>
                <th>Ger&auml;testatus</th>
                <th>Aktionen</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var reserver in Model.Reservierungen)
            {
            @if (reserver.GeraeteListe.Count > 0)
                {
            <tr>
                <th>
                    <text>@reserver.GeraeteListe.FirstOrDefault().Name</text>
                    <br />
                    <text>@reserver.ReservierungsNummer</text>
                    <br />

                </th>
                <th>
                    <text>Von:  @reserver.ReservierungsBeginn</text>
                    <br />
                    <text>Bis:  @reserver.ReservierungsEnde</text>
                    <br />
                </th>
                <th>
                    <text>@FES.AusleihSystem.ViewModels.StringEnum.GetStringValue(reserver.AusgeliehenStatus)</text>

                </th>
                <th>

                    @*Hier nur ist entliehen setzen können, wenn es nicht bereits der Fall ist*@
                    @if (User.IsInRole("Admin") && @reserver.AusgeliehenStatus == FES.AusleihSystem.ViewModels.ReservierungViewModel.EntliehenStatus.isNichtAusgeliehen)
                            {
                            <text>@Html.ActionLink("ist entliehen", "IstReserviert", "Ausleih", reserver)</text>
                            <br />
                            }
                    @if (User.IsInRole("Admin") || reserver.AusgeliehenStatus != FES.AusleihSystem.ViewModels.ReservierungViewModel.EntliehenStatus.isAusgeliehen)
                            {
                            <text>@Html.ActionLink("Eintrag entfernen", "Loeschen", "Ausleih", reserver)</text>
                            }
                </th>
            </tr>
                }
            }
        </tbody>
    </table>
</div>


<div style="min-width: 200px; margin-top:30px">
    <h1>Passwort zur&uuml;cksetzen</h1>
    <div style="font-size:large">
        <text>EMail: @Model.Email</text>
    </div>
    <div style="margin-left:15px">
        @Html.Partial("ResetPassword", new FES.AusleihSystem.ViewModels.PasswordResetViewModel())
    </div>
</div>


